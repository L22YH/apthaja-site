<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>아팟하자</title>

    <!-- 이미지 슬라이드 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

    <!-- 예약상담신청 (중복 로드라면 하나만 써도 됨. 일단 유지) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="index.css">
    <link rel="stylesheet" href="nav.css">
    <link rel="stylesheet" href="footer.css">
    <link rel="stylesheet" href="responsive.css">
</head>

<body>
    <div id="site-nav"></div>
    <main>
  <!-- =========================
       HERO : 메인 상단 인트로
       ========================= -->
  <section class="hero">
    <div class="hero-inner">
      <div class="hero-left">
        <p class="hero-label">아파트 입주 사전점검 전문기업</p>
        <h1 class="hero-title">
          새 집, 하자 없이<br>
          안심하고 입주하실 수 있도록
        </h1>
        <p class="hero-desc">
          아팟하자는 육안 점검부터 디지털 장비, 열화상, 라돈·공기질 측정까지<br>
          원케어 시스템으로 점검하는 전문 팀입니다.
        </p>

        <div class="hero-kpi-grid">
          <div class="hero-kpi">
            <span class="hero-kpi-num">평균 3,500+</span>
            <span class="hero-kpi-label">연간 사전점검 세대</span>
          </div>
          <div class="hero-kpi">
            <span class="hero-kpi-num">전국</span>
            <span class="hero-kpi-label">주요 신규 단지 커버</span>
          </div>
          <div class="hero-kpi">
            <span class="hero-kpi-num">100%</span>
            <span class="hero-kpi-label">보고서 당일 발송</span>
          </div>
        </div>

        <div class="hero-cta-row">
          <a href="#targetSection-1" class="btn-primary hero-cta">상담 / 예약 신청하기</a>
          <a href="tel:010-5925-4558" class="btn-text hero-call">
            📞 010-5925-4558 바로 전화
          </a>
        </div>
      </div>

      <div class="hero-right">
        <div class="hero-card">
          <p class="hero-card-title">신축 입주 아파트, 이런 점이 불안하셨나요?</p>
          <ul class="hero-card-list">
            <li>하자가 있는지, 어디부터 봐야 할지 모르겠어요</li>
            <li>시공사에 어떻게 요청해야 할지 막막해요</li>
            <li>바닥·창문·단열 상태를 전문가 눈으로 확인 받고 싶어요</li>
          </ul>
          <p class="hero-card-bottom">
            아팟하자가 **현장 동행 점검 + 결과보고서**까지 전부 도와드립니다.
          </p>
        </div>
      </div>
    </div>
  </section>

  <!-- =========================
       #1. 서비스 요약 카드 영역
       ========================= -->
  <section class="home-services">
    <header class="home-services-header con1-header">
      <p>아파트 입주 사전점검 전문기업</p>
      <h2><span>아팟하자</span> 주요 서비스</h2>
    </header>

    <div class="home-services-grid container-1-1">
      <!-- 카드 1 -->
      <article class="home-service-card card">
        <div class="home-service-img-wrap">
          <img src="./main_img/4.png" alt="육안 점검 이미지">
        </div>
        <div class="home-service-tag">SERVICE 01</div>
        <h3>육안 점검</h3>
        <p>
          국토교통부 하자심사·분쟁조정 사례까지 참고한<br>
          세대 내·외부 육안 점검 서비스
        </p>
        <button onclick="location.href='service.html#targetSection-3'">
          자세히 보기
        </button>
      </article>

      <!-- 카드 2 -->
      <article class="home-service-card card">
        <div class="home-service-img-wrap">
          <img src="./main_img/2.png" alt="디지털 장비 점검 이미지">
        </div>
        <div class="home-service-tag">SERVICE 02</div>
        <h3>디지털 장비 점검</h3>
        <p>
          레이저 레벨기, 열화상 카메라 등<br>
          각종 장비를 이용한 정밀 점검
        </p>
        <button onclick="location.href='service.html#targetSection-3'">
          자세히 보기
        </button>
      </article>

      <!-- 카드 3 -->
      <article class="home-service-card card">
        <div class="home-service-img-wrap">
          <img src="./main_img/5.png" alt="보고서 작성 이미지">
        </div>
        <div class="home-service-tag">SERVICE 03</div>
        <h3>점검 결과보고서 발송</h3>
        <p>
          점검이 종료된 후, 하자 항목을 정리한<br>
          점검 결과보고서를 당일 E-mail 발송
        </p>
        <button onclick="location.href='report.html#targetSection-4'">
          보고서 예시 보기
        </button>
      </article>
    </div>
  </section>

  <!-- =========================
       #2. 상담 / 예약 신청 섹션
       ========================= -->
  <section id="targetSection-1" class="home-reserve">
    <div class="home-reserve-inner">
      <div class="home-reserve-text">
        <h2>입주 사전점검 상담 / 예약 신청</h2>
        <p>
          아래 정보를 남겨주시면 일정과 단지 특성을 고려해<br>
          빠르게 연락드리겠습니다.
        </p>
        <ul>
          <li>✓ 상담 후 일정 확정 / 진행 여부 결정</li>
          <li>✓ 점검일 이전까지 일정/준비사항 안내</li>
          <li>✓ 점검 당일 현장 동행 + 결과보고서 제공</li>
        </ul>
      </div>

      <div class="home-reserve-form-wrap">
        <form id="reserveForm" class="home-reserve-form">
          <div class="row g-3">
            <div class="col-md-6">
              <label class="form-label">이름 <span class="text-danger">*</span></label>
              <input type="text" name="name" class="form-control" placeholder="이름을 입력하세요" required>
            </div>

            <div class="col-md-6">
              <label class="form-label">연락처 <span class="text-danger">*</span></label>
              <div class="input-group">
                <select class="form-select" id="phoneHead">
                  <option selected>010</option>
                  <option>011</option>
                  <option>016</option>
                  <option>017</option>
                  <option>018</option>
                  <option>019</option>
                </select>
                <input type="text" id="phoneMid" class="form-control" maxlength="4" required>
                <input type="text" id="phoneTail" class="form-control" maxlength="4" required>
                <!-- 실제 전송용(숨김) -->
                <input type="hidden" name="phone" id="phoneFull">
              </div>
            </div>

            <div class="col-md-6">
              <label class="form-label">아파트 <span class="text-danger">*</span></label>
              <input type="text" name="apartment" class="form-control" placeholder="입주예정 아파트 명칭" required>
            </div>

            <div class="col-md-6">
              <label class="form-label">평형/타입 <span class="text-danger">*</span></label>
              <input type="text" name="type" class="form-control" placeholder="예: 84A" required>
            </div>

            <div class="col-md-6">
              <label class="form-label">동/호수 <span class="text-danger">*</span></label>
              <input type="text" name="dongho" class="form-control" placeholder="예: 101동 1001호" required>
            </div>

            <div class="col-md-6">
              <label class="form-label">사전점검일 <span class="text-danger">*</span></label>
              <input type="datetime-local" name="precheck_date" class="form-control" required>
            </div>

            <div class="col-md-6">
              <label class="form-label">E-Mail <span class="text-danger">*</span></label>
              <input type="email" name="email" class="form-control"
                     placeholder="결과보고서 발송용 이메일" required>
            </div>

            <div class="col-12">
              <label class="form-label">전달사항</label>
              <textarea name="message" class="form-control" placeholder="추가로 남기고 싶은 내용을 적어주세요 (선택)"></textarea>
            </div>

            <!-- 개인정보 수집 동의 -->
            <div class="col-12 agree-row">
              <label class="agree-label">
                <input type="checkbox" id="agreePrivacy">
                <span>개인정보 수집 및 이용에 동의합니다.</span>
              </label>
              <p class="agree-help">
                ※ 상담/예약 안내 및 점검 결과 안내를 위해 위 정보가 활용되며, 목적 달성 후 지체 없이 파기됩니다.
              </p>
            </div>

            <div class="col-12 text-center mt-2">
              <button type="submit" id="reserveSubmitBtn" class="btn-primary btn-lg" disabled>
                상담 / 예약 신청 완료하기
              </button>
            </div>

            <div class="col-12 text-center mt-2">
              <span id="formResult" class="form-result-text"></span>
            </div>
          </div>
        </form>
      </div>
    </div>
  </section>
</main>

    <div id="site-footer"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>


    <!-- ✅ 상담 폼 → Apps Script 전송 -->
    <script>
        // ⚠️ 여기에 너의 Apps Script 웹앱 배포 URL 넣기
        const ENDPOINT = "https://script.google.com/macros/s/AKfycbxjuyWr7QEVNR-41WfSLWTgwAm1Ijg0A2ygm6_PfK0X28rO9NPvXa7wanMe7VCoFlKSoQ/exec";

        function buildPhone() {
            const head = document.getElementById("phoneHead")?.value || "";
            const mid = document.getElementById("phoneMid")?.value || "";
            const tail = document.getElementById("phoneTail")?.value || "";

            const full = [head, mid, tail].filter(Boolean).join("-");
            const hidden = document.getElementById("phoneFull");
            if (hidden) hidden.value = full;

            return full;
        }

        const reserveForm = document.getElementById("reserveForm");
        reserveForm.addEventListener("submit", async (e) => {
            e.preventDefault();

            buildPhone();

            const fd = new FormData(reserveForm);
            fd.append("user_agent", navigator.userAgent);
            fd.append("referrer", document.referrer || location.href);

            const resultEl = document.getElementById("formResult");
            const submitBtn = reserveForm.querySelector('button[type="submit"]');

            if (resultEl) resultEl.textContent = "전송 중...";
            if (submitBtn) submitBtn.disabled = true;

            try {
                const res = await fetch(ENDPOINT, { method: "POST", body: fd });
                const data = await res.json();

                if (data.ok) {
                    if (resultEl) resultEl.textContent = "✅ 접수 완료! 곧 연락드릴게요.";
                    reserveForm.reset();
                } else {
                    if (resultEl) resultEl.textContent = "❌ 실패: " + (data.message || "알 수 없는 오류");
                }
            } catch (err) {
                if (resultEl) resultEl.textContent = "❌ 오류: " + err.message;
            } finally {
                if (submitBtn) submitBtn.disabled = false;
            }
        });
    </script>

    <script>
        // ===== 전화번호 입력 제어 =====
        const phoneMid = document.getElementById("phoneMid");
        const phoneTail = document.getElementById("phoneTail");

                // 4자리 꽉 차면 다음 칸으로 자동 이동
        phoneMid.addEventListener("input", () => {
        if (phoneMid.value.length >= 4) phoneTail.focus();
        });

        // (선택) 끝 칸에서 백스페이스로 비면 중간칸으로 이동
        phoneTail.addEventListener("keydown", (e) => {
        if (e.key === "Backspace" && phoneTail.value.length === 0) {
            phoneMid.focus();
        }
        });

        function onlyNumberAndLimit(el, maxLen) {
            el.addEventListener("input", () => {
            // 숫자만 남기기
            el.value = el.value.replace(/[^0-9]/g, "");
            // 글자수 제한
            if (el.value.length > maxLen) {
                el.value = el.value.slice(0, maxLen);
            }
            });
        }

        // 중간/끝 번호 제한
        onlyNumberAndLimit(phoneMid, 4);
        onlyNumberAndLimit(phoneTail, 4);
    </script>

    <script src="./index_fade_in.js"></script>
    <script src="./layout.js"></script>
    <script src="./responsive_nav.js"></script>
</body>

</html>